# UI Space

[ui-space demo](https://lit.dev/playground/#project=W3sibmFtZSI6InVpLXNwYWNlLnRzIiwiY29udGVudCI6ImltcG9ydCB7IGh0bWwsIExpdEVsZW1lbnQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgcXVlcnlBc3NpZ25lZEVsZW1lbnRzIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzLmpzXCI7XG5cbmV4cG9ydCB0eXBlIFNwYWNlU2l6ZSA9IG51bWJlciB8IFwibWluaVwiIHwgXCJzbWFsbFwiIHwgXCJtZWRpdW1cIiB8IFwibGFyZ2VcIjtcblxuZnVuY3Rpb24gd3JhcCh3cmFwcGVyOiBIVE1MRWxlbWVudCwgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50LnBhcmVudEVsZW1lbnQpIHJldHVybjtcbiAgZWxlbWVudC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZSh3cmFwcGVyLCBlbGVtZW50KTtcbiAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbn1cblxuQGN1c3RvbUVsZW1lbnQoXCJ1aS1zcGFjZVwiKVxuZXhwb3J0IGNsYXNzIFNwYWNlIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBxdWVyeUFzc2lnbmVkRWxlbWVudHMoe30pXG4gIHB1YmxpYyBfY2hpbGRyZW46IEhUTUxFbGVtZW50W107XG5cbiAgQHF1ZXJ5QXNzaWduZWRFbGVtZW50cyh7IHNsb3Q6IFwic3BsaXRcIiB9KVxuICBwdWJsaWMgc3BsaXQ6IEhUTUxFbGVtZW50W107XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuICBwdWJsaWMgcnRsPzogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG4gIHB1YmxpYyB2ZXJ0aWNhbD86IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuICBwdWJsaWMgYmxvY2s_OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbiAgcHVibGljIHdyYXA_OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbiAgcHVibGljIGZpbGw_OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEFycmF5IH0pXG4gIHB1YmxpYyBzaXplOiBTcGFjZVNpemUgfCBTcGFjZVNpemVbXSA9IFwic21hbGxcIjtcblxuICBAcHJvcGVydHkoKVxuICBwdWJsaWMgYWxpZ24_OiBcInN0YXJ0XCIgfCBcImVuZFwiIHwgXCJjZW50ZXJcIiB8IFwiYmFzZWxpbmVcIjtcblxuICBwdWJsaWMgZ2V0TWFyZ2luKHNpemU6IFNwYWNlU2l6ZSkge1xuICAgIGlmICh0eXBlb2Ygc2l6ZSA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHNpemU7XG5cbiAgICBjb25zdCBzaXplcyA9IHtcbiAgICAgIG1pbmk6IDQsXG4gICAgICBzbWFsbDogOCxcbiAgICAgIG1lZGl1bTogNixcbiAgICAgIGxhcmdlOiAyNCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNpemVzW3NpemVdID8_IHNpemVzLnNtYWxsO1xuICB9XG5cbiAgcHVibGljIGdldE1hcmdpblN0eWxlKGluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCBpc0xhc3QgPSBsZW5ndGggPT09IGluZGV4ICsgMTtcbiAgICBjb25zdCBtYXJnaW5EaXJlY3Rpb24gPSB0aGlzLnJ0bCA_IFwibWFyZ2luLWxlZnRcIiA6IFwibWFyZ2luLXJpZ2h0XCI7XG4gICAgY29uc3QgbWFyZ2luSG9yaXpvbnRhbCA9IHRoaXMuZ2V0TWFyZ2luKEFycmF5LmlzQXJyYXkodGhpcy5zaXplKSA_IHRoaXMuc2l6ZVswXSA6IHRoaXMuc2l6ZSk7XG4gICAgY29uc3QgbWFyZ2luQnV0dG9uID0gdGhpcy5nZXRNYXJnaW4oQXJyYXkuaXNBcnJheSh0aGlzLnNpemUpID8gdGhpcy5zaXplWzFdIDogdGhpcy5zaXplKTtcbiAgICBsZXQgc3RyID0gXCJcIjtcbiAgICBpZiAodGhpcy53cmFwIHx8IHRoaXMudmVydGljYWwpIHN0ciArPSBgbWFyZ2luLWJvdHRvbTogJHttYXJnaW5CdXR0b259cHg7YDtcbiAgICBpZiAoKHRoaXMud3JhcCB8fCAhdGhpcy52ZXJ0aWNhbCkgJiYgIWlzTGFzdCkgc3RyICs9IGAke21hcmdpbkRpcmVjdGlvbn06ICR7bWFyZ2luSG9yaXpvbnRhbH1weDtgO1xuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlV3JhcHBlcjxLIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwID0gXCJkaXZcIj4odGFnTmFtZTogSyA9IFwiZGl2XCIgYXMgSykge1xuICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gXCJzcGFjZS1pdGVtXCI7XG4gICAgcmV0dXJuIHdyYXBwZXI7XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgZmlyc3RVcGRhdGVkKCkge1xuICAgIGNvbnN0IGxhc3RJbmRleCA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aCAtIDE7XG5cbiAgICBjb25zdCBzcGxpdENoaWxkcmVuID0gdGhpcy5zcGxpdFswXTtcblxuICAgIHRoaXMuX2NoaWxkcmVuLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpc0xhc3QgPSBsYXN0SW5kZXggPT09IGluZGV4O1xuXG4gICAgICAvLyDljIXoo7lcbiAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBcInNwYWNlLWl0ZW1cIjtcbiAgICAgIHdyYXBwZXIuc3R5bGUgPSB0aGlzLmdldE1hcmdpblN0eWxlKGluZGV4KTtcbiAgICAgIHdyYXAod3JhcHBlciwgZWxlbWVudCk7XG5cbiAgICAgIC8vIOmXtOmalOesplxuICAgICAgaWYgKHNwbGl0Q2hpbGRyZW4gJiYgIWlzTGFzdCkge1xuICAgICAgICBjb25zdCBzcGxpdEVsZW1lbnQgPSB0aGlzLnNwbGl0WzBdLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgc3BsaXRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInNsb3RcIik7XG4gICAgICAgIGNvbnN0IHNwbGl0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNwbGl0V3JhcHBlci5jbGFzc05hbWUgPSBcInNwYWNlLXNwbGl0XCI7XG4gICAgICAgIHNwbGl0V3JhcHBlci5hcHBlbmRDaGlsZChzcGxpdEVsZW1lbnQpO1xuICAgICAgICB3cmFwcGVyLnBhcmVudEVsZW1lbnQhLmluc2VydEJlZm9yZShzcGxpdFdyYXBwZXIsIHdyYXBwZXIubmV4dFNpYmxpbmcpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g56e76Zmk6Ze06ZqU5o-S5qe95YaF5a65XG4gICAgaWYgKHNwbGl0Q2hpbGRyZW4pIHNwbGl0Q2hpbGRyZW4ucmVtb3ZlKCk7XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgcmVuZGVyKCkge1xuICAgIGxldCBzdHlsZSA9IGBkaXNwbGF5OiAkeyEhdGhpcy5ibG9jayA_IFwiZmxleFwiIDogXCJpbmxpbmUtZmxleFwifTtgO1xuICAgIGlmICghIXRoaXMudmVydGljYWwpIHN0eWxlICs9IGAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtgO1xuICAgIGlmICghIXRoaXMud3JhcCkgc3R5bGUgKz0gYCBmbGV4LXdyYXA6IHdyYXA7YDtcbiAgICBpZiAoISF0aGlzLmZpbGwpIHN0eWxlICs9IGAgd2lkdGg6IDEwMCU7YDtcbiAgICBpZiAoISF0aGlzLnJ0bCkgc3R5bGUgKz0gYCBkaXJlY3Rpb246IHJ0bDtgO1xuICAgIGNvbnN0IGFsaWduSXRlbXMgPSBbXCJzdGFydFwiLCBcImVuZFwiXS5pbmNsdWRlcyh0aGlzLmFsaWduISkgPyBgZmxleC0ke3RoaXMuYWxpZ259YCA6IHRoaXMuYWxpZ247XG4gICAgaWYgKCEhdGhpcy5hbGlnbikgc3R5bGUgKz0gYCBhbGlnbi1pdGVtczogJHthbGlnbkl0ZW1zfTtgO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwic3BhY2Utcm9vdFwiIHN0eWxlPSR7c3R5bGV9PlxuICAgICAgICA8c2xvdD48L3Nsb3Q-XG4gICAgICAgIDxzbG90IG5hbWU9XCJzcGxpdFwiPjwvc2xvdD5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbn1cbiJ9LHsibmFtZSI6ImluZGV4Lmh0bWwiLCJjb250ZW50IjoiPCFET0NUWVBFIGh0bWw-XG48aGVhZD5cbiAgPHNjcmlwdCB0eXBlPVwibW9kdWxlXCIgc3JjPVwiLi91aS1zcGFjZS5qc1wiPjwvc2NyaXB0PlxuPC9oZWFkPlxuPGJvZHk-XG4gIDx1aS1zcGFjZSB3cmFwIHNpemU9XCJbMjAsIDIwXVwiPlxuICAgIDxkaXY-MTwvZGl2PlxuICAgIDxkaXY-MjwvZGl2PlxuICAgIDxkaXY-MzwvZGl2PlxuICAgIFxuICAgIDxkaXYgc2xvdD1cInNwbGl0XCI-NDwvZGl2PlxuICA8L3VpLXNwYWNlPlxuICBcbiAgPHVpLXNwYWNlIHZlcnRpY2FsIGFsaWduPVwiY2VudGVyXCI-XG4gICAgPGRpdj4xPC9kaXY-XG4gICAgPGRpdj4yPC9kaXY-XG4gICAgPGRpdj4zPC9kaXY-XG4gICAgXG4gICAgPGRpdiBzbG90PVwic3BsaXRcIj40PC9kaXY-XG4gIDwvdWktc3BhY2U-XG48L2JvZHk-XG4ifSx7Im5hbWUiOiJwYWNrYWdlLmpzb24iLCJjb250ZW50Ijoie1xuICBcImRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJsaXRcIjogXCJeMi4wLjBcIixcbiAgICBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiOiBcIl4xLjAuMFwiLFxuICAgIFwibGl0LWVsZW1lbnRcIjogXCJeMy4wLjBcIixcbiAgICBcImxpdC1odG1sXCI6IFwiXjIuMC4wXCJcbiAgfVxufSIsImhpZGRlbiI6dHJ1ZX1d)